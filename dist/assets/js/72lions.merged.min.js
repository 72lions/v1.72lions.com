var Router=function(l){var d=true;var q={push:[],pop:[]};var r={};var t=null;var m=null;var j="";var g=true;var s="";var e=500;this.push=function(w,y,v){if(g){history.pushState(w,y,s+v)}else{location.href=s+"#"+v}t=getState();k("push");if(g){b(t.path)}else{b(t.hash)}};this.replace=function(w,y,v){if(g){history.replaceState(w,y,s+v)}t=getState();k("push");if(g){b(t.path)}else{b(t.hash)}};this.registerForEvent=function(w,z){var y=false;for(var v=q[w].length-1;v>=0;v--){if(q[w][v]===z){y=true;break}}if(!y){q[w].push(z)}y=null};this.registerForPathChange=function(A,B,y){y=y||0;var z=false;var v=r[A];if(v!==undefined){for(var w=v.length-1;w>=0;w--){if(v[w].callback===B){z=true;break}}}else{r[A]=[]}if(!z){r[A].push({callback:B,priority:y});u(A)}v=null;z=null};this.goBack=function(v){history.go(0-(v===null||v===undefined?1:v))};this.goForward=function(v){history.go(v===null||v===undefined?1:v)};this.getState=function(){return i()};this.setBasePath=function(v){s=v};var c=function(v){t=getState();if(d){d=false}k("pop");if(g){b(t.path)}else{b(t.hash)}};var i=function(){var v=h(location.href);v.isRefresh=d;return v};var k=function(y){var v=q[y];for(var w=v.length-1;w>=0;w--){v[w](t)}v=null};var b=function(y){var v=r[(y)];if(v!==undefined){for(var w=v.length-1;w>=0;w--){v[w].callback(t)}}v=null};var u=function(w){var v=r[w];v.sort(f);v=null};var n=function(){var v=getState().hash;if(j!==v){j=v;c(null);return}};var h=function(w){w=unescape(w);var z=w.replace(/^(http(s)?:\/\/)?[^\/]+\/?/i,"");var B={protocol:w.match(/^(http(s)?):\/\//i),domain:w.match(/^(http(s)?:\/\/)?([^\/:]+)/i),query:w.match(/\?([\w\+\-\=&]+)/),port:w.match(/\w:(\d{1,5})/),hash:w.match(/#([\w\-\/]+)/),path:z.match(/^\/?([\w\-\/\.]+)/)};var v={protocol:B.protocol?B.protocol[1]:null,domain:B.domain?B.domain[3]:null,query:B.query?B.query[1]:null,port:B.port?B.port[1]:null,hash:B.hash?B.hash[1]:null,path:B.path?B.path[1]:null,url:w};if(v.path){v.pathSegments=v.path.replace(/^\/|\/$/g,"").split("/")}if(v.hash){v.hashSegments=v.hash.replace(/^\/|\/$/g,"").split("/")}if(v.query){v.params={};var y=/([\w\+\-]+)\=([\w\+\-]+)/g;var A=y.exec(v.query);while(A){v.params[A[1]]=A[2];A=y.exec(v.query)}}return v};var p=function(){return !!(window.history&&history.pushState)};var a=function(){return"onhashchange" in window};var f=function(z,w){var v=parseInt(z.priority,0);var A=parseInt(w.priority,0);return((v<A)?-1:((v>A)?1:0))};var o=function(){if(p()){window.onpopstate=c}else{g=false;if(a()){window.onhashchange=c}else{m=setInterval(function(){n()},e)}}};o();return this}(window);var EventTarget=function(){var a={};this.addEventListener=function(b,c){if(a[b]===undefined){a[b]=[]}if(a[b].indexOf(c)===-1){a[b].push(c)}};this.dispatchEvent=function(b){for(var c in a[b.type]){a[b.type][c](b)}};this.removeEventListener=function(c,d){var b=a[c].indexOf(d);if(b!==-1){a[c].splice(b,1)}}};var seventytwolions={};seventytwolions.Controller=seventytwolions.Controller||{};seventytwolions.View=seventytwolions.View||{};seventytwolions.Model=seventytwolions.Model||{};seventytwolions.Model.Locale=(function(c){var a=["January","February","March","April","May","June","July","August","September","October","November","December"];var d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var b="72Lions - The playground of developer Thodoris Tsiridis";this.getMonthName=function(e){return a[e]};this.getDayName=function(e){return d[e]};this.getPageTitle=function(){return b};return this})(window);seventytwolions.ControllerManager=function(a){this.initializeController=function(b){return seventytwolions.Lookup.getController(b)};return this}(window);seventytwolions.Lookup=function(c){var b={};var d={};var a={};this.getController=function(e){var h,l,f,k;var j=-1;h=e.type||"Base";l=e.id||("_id_"+Math.floor(Math.random()*10000).toString());if(!a[h]||!$.isArray(a[h])){a[h]=[]}for(var g=a[h].length-1;g>=0;g--){if(a[h][g].id==l){j=g;break}}if(j===-1){j=null;if(seventytwolions.Controller[h]!==undefined){k={id:l,classType:new seventytwolions.Controller[h]()}
}else{k={id:l,classType:new seventytwolions.Controller.Base()}}a[h].push(k);k.classType.initialize(e);return k.classType}else{return a[h][j].classType}};this.getView=function(g,j){var h=-1,e;if(!d[g]||!$.isArray(d[g])){d[g]=[]}for(var f=d[g].length-1;f>=0;f--){if(d[g][f].id==j){h=f}}if(h===-1){h=null;if(seventytwolions.View[g]!==undefined){e={id:j,classType:new seventytwolions.View[g]()}}else{e={id:j,classType:new seventytwolions.View.Base()}}d[g].push(e);e.classType.preInitialize(g,j);return e.classType}else{return d[g][h].classType}};this.getModel=function(e){var j=-1,k,f,h;h=e.data||{};f=e.type||"Base";id=e.id||("_id_"+Math.floor(Math.random()*10000).toString());if(!b[f]||!$.isArray(b[f])){b[f]=[]}for(var g=b[f].length-1;g>=0;g--){if(b[f][g].id==id){j=g}}if(j===-1){j=null;if(seventytwolions.Model[f]!==undefined){k={id:id,classType:new seventytwolions.Model[f]()}}else{k={id:id,classType:new seventytwolions.Model.Base()}}b[f].push(k);k.classType.setName(f);k.classType.setId(id);k.classType.setData(h);return k.classType}else{return b[f][j].classType}};return this}(window);seventytwolions.Console=function(a){this.debug=true;this.log=function(){if(this.debug){}};return this}(window);seventytwolions.View.Base=function(){EventTarget.call(this);this.name="";this.id="";this.model=undefined;this.domElement=null;this.show=function(){};this.hide=function(){};this.setName=function(a){this.name=a};this.setId=function(a){this.id=a};this.setModel=function(a){this.model=a};this.getModel=function(){return this.model};this.getDOMElement=function(){return this.domElement};this.preInitialize=function(a,b){this.setName(a);this.setId(b)};this.initialize=function(){};this.draw=function(){};this.postDraw=function(){}};seventytwolions.Model.Base=function(){var a={};this.name="";this.id="";this.setData=function(b){this.data=b};this.getData=function(){return this.data};this.setName=function(b){this.name=b};this.setId=function(b){this.id=b};this.set=function(b,c){this.data[b]=c};this.get=function(b){return this.data[b]}};seventytwolions.Controller.Base=function(){EventTarget.call(this);var b=undefined;var a=undefined;this.id="";this.name="";this.model=undefined;this.initialize=function(c){this.id=c.id||id;this.name=c.type||"";b=c.view||seventytwolions.Lookup.getView(this.name,this.id);a=this.model=c.model;b.setModel(a);b.initialize();b.draw();b.postDraw();this.postInitialize()};this.postInitialize=function(){};this.getView=function(){return b};this.getModel=function(){return a};this.setModel=function(c){a=c;b.setModel(c)}};seventytwolions.Controller.Main=function(){var d=null;var f=null;var b=null;var a=Router.getState();var e=("state" in window.history);var c=location.href;this.postInitialize=function(){d=seventytwolions.ControllerManager.initializeController({type:"Navigation",id:"navigation",model:seventytwolions.Lookup.getModel({})});f=seventytwolions.ControllerManager.initializeController({type:"SectionsManager",id:"sectionsmanager",model:seventytwolions.Lookup.getModel({})});b=seventytwolions.ControllerManager.initializeController({type:"Footer",id:"Footer",model:seventytwolions.Lookup.getModel({type:"Footer",id:"footter"})});h(a);Router.registerForEvent("pop",h);Router.registerForEvent("push",h)};var h=function(k){var i,j;i=!e&&location.href==c;e=true;i=null;a=null;j="";if(k.pathSegments===undefined){d.getView().selectNavigationItem("blog");g()}else{if(k.pathSegments.length){d.getView().selectNavigationItem(k.pathSegments[k.pathSegments.length-1]);g(k)}}j=null};var g=function(i){b.hide();f.showSectionWithName(i);b.show()}};seventytwolions.Controller.Main.prototype=new seventytwolions.Controller.Base();seventytwolions.Controller.Navigation=function(){var b=this;this.postInitialize=function(){b.getView().addEventListener("menuClicked",a)};var a=function(c){Router.push(null,c.title+" - "+seventytwolions.Model.Locale.getPageTitle(),c.path)}};seventytwolions.Controller.Navigation.prototype=new seventytwolions.Controller.Base();seventytwolions.Controller.SectionsManager=function(){var e=this;
var a=Router.getState();var b=undefined;var i=undefined;var f=undefined;var d=undefined;var g=undefined;var h=undefined;var c=4;this.postInitialize=function(){b=seventytwolions.ControllerManager.initializeController({type:"Portfolio",id:"portfolio",model:seventytwolions.Lookup.getModel({type:"Posts",id:"portfolioModel"})});i=seventytwolions.ControllerManager.initializeController({type:"Experiments",id:"experiments",model:seventytwolions.Lookup.getModel({id:"experimentsModel"})});f=seventytwolions.ControllerManager.initializeController({type:"Blog",id:"blog",model:seventytwolions.Lookup.getModel({type:"Posts",id:"blogModel"})});h=[{name:"portfolio",object:b},{name:"experiments",object:i},{name:"blog",object:f}];g=seventytwolions.ControllerManager.initializeController({type:"PostDetails",id:"postDetails",model:seventytwolions.Lookup.getModel({type:"Posts",id:"postDetailsModel"})})};this.showSectionWithName=function(l){var j,k,m;j=h.length;if(l&&l.pathSegments[0]=="category"){_gaq.push(["_trackPageview","/"+l.path]);m=l.pathSegments[1];for(k=0;k<j;k++){if(h[k].name===m){h[k].object.show()}else{h[k].object.hide()}}g.hide()}else{if(l){_gaq.push(["_trackPageview","/"+l.path]);for(k=0;k<j;k++){h[k].object.hide()}m=l.pathSegments[l.pathSegments.length-1];g.load(m)}else{_gaq.push(["_trackPageview","/"]);g.hide();for(k=0;k<j;k++){if(h[k].name!=="blog"){h[k].object.hide()}}f.show()}}}};seventytwolions.Controller.SectionsManager.prototype=new seventytwolions.Controller.Base();seventytwolions.Controller.Portfolio=function(){var c=this;var b=undefined;var e=[];this.postInitialize=function(){this.loadPosts()};this.show=function(){this.getView().show()};this.hide=function(){this.getView().hide()};this.loadPosts=function(){this.getModel().getPosts(7,0,80,a,this)};var a=function(f){var g;if(typeof(this.getModel().get("Portfolio"))==="undefined"){this.getModel().set("Portfolio",f);for(g=0;g<f.length;g++){e.push(seventytwolions.ControllerManager.initializeController({type:"ThumbnailItem",id:"ThumbnailItem"+f[g].Id,model:seventytwolions.Lookup.getModel({data:f[g]})}));this.getView().addPortfolioItem(e[g].getView().domElement);e[g].getView().render()}}};this.loadCategories=function(){if(b===undefined){b=seventytwolions.Lookup.getModel({type:"Categories",id:"categoriesPortfolio"})}b.get(0,5,d,this)};var d=function(f){}};seventytwolions.Controller.Portfolio.prototype=new seventytwolions.Controller.Base();seventytwolions.Controller.Experiments=function(){var a=this;this.postInitialize=function(){};this.show=function(){this.getView().show()};this.hide=function(){this.getView().hide()}};seventytwolions.Controller.Experiments.prototype=new seventytwolions.Controller.Base();seventytwolions.Controller.Blog=function(){var b=this;var a=undefined;var d=[];this.postInitialize=function(){this.loadBlogPosts()};this.show=function(){this.getView().show()};this.hide=function(){this.getView().hide()};this.loadBlogPosts=function(){this.getModel().getPosts(3,0,80,e,this)};var e=function(f){var g;if(typeof(this.getModel().get("Blog"))==="undefined"){this.getModel().set("Blog",f);for(g=0;g<f.length;g++){d.push(seventytwolions.ControllerManager.initializeController({type:"ThumbnailItem",id:"ThumbnailItem"+f[g].Id,model:seventytwolions.Lookup.getModel({data:f[g]})}));this.getView().addPortfolioItem(d[g].getView().domElement);d[g].getView().render();d[g].getView().showDescription()}}this.getView().positionItems()};this.loadCategories=function(){if(a===undefined){a=seventytwolions.Lookup.getModel({type:"Categories",id:"categoriesBlog"})}a.get(0,5,c,this)};var c=function(f){}};seventytwolions.Controller.Blog.prototype=new seventytwolions.Controller.Base();seventytwolions.Controller.About=function(){var a=this;this.postInitialize=function(){};this.show=function(){this.getView().show()};this.hide=function(){this.getView().hide()}};seventytwolions.Controller.About.prototype=new seventytwolions.Controller.Base();seventytwolions.Controller.Contact=function(){var a=this;this.postInitialize=function(){};
this.show=function(){this.getView().show()};this.hide=function(){this.getView().hide()}};seventytwolions.Controller.Contact.prototype=new seventytwolions.Controller.Base();seventytwolions.Controller.ThumbnailItem=function(){var a=this;this.postInitialize=function(){}};seventytwolions.Controller.ThumbnailItem.prototype=new seventytwolions.Controller.Base();seventytwolions.Controller.PostDetails=function(){var a=this;this.currentId=null;this.postInitialize=function(){};this.load=function(c){if(this.currentId!==c){this.currentId=c;if(typeof(this.getModel().get("PostDetails"+this.currentId))!=="undefined"){b.call(this,this.getModel().get("PostDetails"+this.currentId))}else{this.getModel().getDetails(c,b,this)}}};this.show=function(){this.getView().show()};this.hide=function(){this.getView().hide();this.currentId=null};var b=function(c){this.getModel().set("PostDetails"+this.currentId,c);this.getView().currentId=this.currentId;this.getView().render();this.show()}};seventytwolions.Controller.PostDetails.prototype=new seventytwolions.Controller.Base();seventytwolions.Controller.Footer=function(){var b=this;this.postInitialize=function(){b.getView().addEventListener("menuClicked",a);this.loadTweets();this.loadFlickrPhotos()};this.show=function(){this.getView().show()};this.hide=function(){this.getView().hide()};this.loadTweets=function(){this.getModel().getTweets(d,this)};this.loadFlickrPhotos=function(){this.getModel().getFlickr(c,this)};var d=function(e){this.getView().showTweets()};var c=function(e){this.getView().showFlickrPhotos()};var a=function(e){Router.push(null,e.title+" - "+seventytwolions.Model.Locale.getPageTitle(),e.path)}};seventytwolions.Controller.Footer.prototype=new seventytwolions.Controller.Base();seventytwolions.Model.Categories=function(){var e="/api/getCategories.php";var c=0;var b=10;var a;var d={};this.get=function(k,i,j,f){var g,h;h=this;k=k||c;i=i||b;g="s="+k+"&t="+i;if(a!==undefined){a.abort()}a=$.ajax({url:e,dataType:"json",data:g,success:function(l){h.set("posts",l.Results);if(typeof(j)!=="undefined"&&typeof(j)!=="null"){j.apply(f,[h.get("posts")]);a=undefined}}})}};seventytwolions.Model.Categories.prototype=new seventytwolions.Model.Base();seventytwolions.Model.Posts=function(){var f="/api/getPosts.php";var b="/api/getPostDetails.php";var e=0;var d=10;var c;var a;var g={};this.getPosts=function(j,n,l,m,h){var i,k;k=this;n=n||e;l=l||d;i="s="+n+"&t="+l;if(j!==null){i+="&cid="+j}if(c!==undefined){c.abort()}c=$.ajax({url:f,dataType:"json",data:i,success:function(o){k.set("posts",o.Results);if(typeof(m)!=="undefined"&&typeof(m)!=="null"){m.apply(h,[k.get("posts")]);c=undefined}}})};this.getDetails=function(i,k,h){var j;j=this;if(a!==undefined){a.abort()}a=$.ajax({url:b,dataType:"json",data:"id="+i,success:function(l){j.set("post",l.Results);if(typeof(k)!=="undefined"&&typeof(k)!=="null"){k.apply(h,[j.get("post")]);c=undefined}}})}};seventytwolions.Model.Posts.prototype=new seventytwolions.Model.Base();seventytwolions.Model.Footer=function(){var f="/api/getTweets.php";var a=2;var b="/api/getFlickr.php";var d;var c;var e={};this.getTweets=function(j,g){var h,i;i=this;h="t="+a;if(d!==undefined){d.abort()}d=$.ajax({url:f,dataType:"json",data:h,success:function(k){i.set("tweets",k.results);if(typeof(j)!=="undefined"&&typeof(j)!=="null"){j.apply(g,[i.get("tweets")]);d=undefined}}})};this.getFlickr=function(j,g){var h,i;i=this;if(c!==undefined){c.abort()}c=$.ajax({url:b,dataType:"json",success:function(k){i.set("flickr",k.items);if(typeof(j)!=="undefined"&&typeof(j)!=="null"){j.apply(g,[i.get("flickr")]);c=undefined}},error:function(){}})}};seventytwolions.Model.Footer.prototype=new seventytwolions.Model.Base();seventytwolions.View.Main=function(){this.domElement=null;this.initialize=function(){};this.draw=function(){};this.postDraw=function(){}};seventytwolions.View.Main.prototype=new seventytwolions.View.Base();seventytwolions.View.Navigation=function(){var d=undefined;var b=this;this.domElement=$(".navigation");this.clickedItem=undefined;
this.initialize=function(){d=this.domElement.find("a")};this.draw=function(){};this.postDraw=function(){c()};this.selectNavigationItem=function(e){e=e===""?"home":e;this.domElement.find(".nav-"+e).parent().addClass("active").siblings().removeClass("active")};var c=function(){d.bind("click",a)};var a=function(g){var f;g.preventDefault();f=b.clickedItem=$(this);if(f.hasClass("logo")){delay=200;$("body,html").stop().animate({scrollTop:0},delay,"easeOutQuint")}else{delay=0}setTimeout(function(){b.dispatchEvent({type:"menuClicked",path:b.clickedItem.attr("href"),title:b.clickedItem.attr("title")})},delay+100);f=null}};seventytwolions.View.Navigation.prototype=new seventytwolions.View.Base();seventytwolions.View.SectionsManager=function(){var a=this;this.domElement=$("#sections-wrapper");this.initialize=function(){};this.draw=function(){};this.postDraw=function(){}};seventytwolions.View.SectionsManager.prototype=new seventytwolions.View.Base();seventytwolions.View.Portfolio=function(){this.domElement=$(".portfolio");var a=this;var b=this.domElement.find(".centered");this.initialize=function(){};this.draw=function(){};this.postDraw=function(){};this.show=function(){var c=this;this.domElement.addClass("active");setTimeout(function(){c.domElement.css("opacity",1)},10);document.title="Portfolio - "+seventytwolions.Model.Locale.getPageTitle()};this.hide=function(){this.domElement.removeClass("active").css("opacity",0)};this.addPortfolioItem=function(c){b.append(c)}};seventytwolions.View.Portfolio.prototype=new seventytwolions.View.Base();seventytwolions.View.Experiments=function(){var a=this;this.domElement=$(".experiments");this.initialize=function(){};this.draw=function(){};this.postDraw=function(){};this.show=function(){var b=this;this.domElement.addClass("active");setTimeout(function(){b.domElement.css("opacity",1)},10)};this.hide=function(){this.domElement.removeClass("active").css("opacity",0)}};seventytwolions.View.Experiments.prototype=new seventytwolions.View.Base();seventytwolions.View.Blog=function(){this.domElement=$(".blog");var d=this;var g=this.domElement.find(".centered");var a=true;var b=2;var f=218;var c=20;this.initialize=function(){};this.draw=function(){};this.postDraw=function(){$(window).bind("resize",e)};this.show=function(){var h=this;document.title="Blog - "+seventytwolions.Model.Locale.getPageTitle();this.domElement.addClass("active");setTimeout(function(){h.domElement.css("opacity",1)},10);a=true;this.positionItems()};this.hide=function(){this.domElement.removeClass("active").css("opacity",0)};this.addPortfolioItem=function(h){g.append(h)};this.positionItems=function(){var i=g.find("article");var s=g.find("article.featured");var h=g.height();var j=g.width();var n=0;var o=0;var q=[];var p=0;var m=0;var k=Math.max(b,parseInt(j/(f+c),0));var r=0;if(a){a=false}else{g.addClass("animated")}for(x=0;x<k;x++){q[x]=0}i.each(function(v,w){var C,B,A,z,y=0;var u=0;var t=0;z=(Math.floor($(w).outerWidth()/f));A=0;if(z>1){for(C=0;C<k-(z-1);C++){A=(q[C]<q[A])?C:A}B=A;for(C=0;C<z;C++){y=Math.max(y,q[B+C])}for(C=0;C<z;C++){q[B+C]=parseInt($(w).outerHeight(),0)+c+y}u=B*(f+c)+o;t=y+n;p=(y>p)?q[B+z-1]:p}else{for(C=0;C<k;C++){A=(q[C]<q[A])?C:A}u=A*(f+c)+o;t=q[A]+n;q[A]+=$(w).outerHeight()+c;p=(q[A]>p)?q[A]:p}if(!Modernizr.mq("only screen and (max-device-width: 480px)")){$(this).css({left:u+"px",top:t+c+"px"})}itemBottom=parseInt(t+c,0)+$(this).innerHeight();if(r<itemBottom){r=itemBottom}m=(m<A)?A:m});if(!Modernizr.mq("only screen and (max-device-width: 480px)")){g.css("height",r+"px")}else{g.css("height","auto !important")}var l=parseInt(($("body").innerWidth()-(f+c)*(m+1))/2,0)-0};var e=function(){d.positionItems()}};seventytwolions.View.Blog.prototype=new seventytwolions.View.Base();seventytwolions.View.About=function(){var a=this;this.domElement=$(".about");this.initialize=function(){};this.draw=function(){};this.postDraw=function(){};this.show=function(){this.domElement.slideDown()};this.hide=function(){this.domElement.slideUp()}
};seventytwolions.View.About.prototype=new seventytwolions.View.Base();seventytwolions.View.Contact=function(){var a=this;this.domElement=$(".contact");this.initialize=function(){};this.draw=function(){};this.postDraw=function(){};this.show=function(){var b=this;this.domElement.addClass("active");setTimeout(function(){b.domElement.css("opacity",1)},10)};this.hide=function(){this.domElement.removeClass("active").css("opacity",0)}};seventytwolions.View.Contact.prototype=new seventytwolions.View.Base();seventytwolions.View.ThumbnailItem=function(){this.isFeatured=false;this.domElement=$('<article class="portfolio-item clearfix"></article>');var b=this;var c="http://72lions.com/wp-content/uploads/";var a='<div class="photo"><a href="${github}" target="_blank" class="github-ribbon"><img src="/assets/images/github-ribbon.png" border="0" alt="Fork me on github" /></a><a href="${link}" title="${title}"><img class="thumbnail-image" src="${image}" alt="${title}" width="${imagewidth}" height="${imageheight}"  /></a></div><div class="description"><hgroup><a href="${link}" title="${title}" class="title"><h1>${title}</h1></a></hgroup><time>${publishdate}</time><aside>Categories: ${categories}</aside><p>${description}</p><a href="${link}" title="${title}" class="readmore">Read more</a></div>';this.initialize=function(){};this.draw=function(){};this.postDraw=function(){};this.setAsFeatured=function(f){this.isFeatured=f;if(f){this.domElement.addClass("featured")}else{this.domElement.removeClass("featured")}};this.render=function(){var j,s,p,v,r,q,g,l,o,m,f,u,t,k,h;m="";k=false;p=this.getModel();r=a;v=p.get("Meta");if(v&&v.showcase!==undefined){this.setAsFeatured(true)}pDate=new Date(p.get("PublishDate").replace(/-/g,"/"));r=r.replace(/\${publishdate}/g,seventytwolions.Model.Locale.getDayName(pDate.getDay())+", "+seventytwolions.Model.Locale.getMonthName(pDate.getMonth())+" "+pDate.getDate()+" "+pDate.getFullYear());l=p.get("Slug");s=(pDate.getMonth()+1);s=s.toString().length===1?"0"+s:s;g="/"+pDate.getFullYear()+"/"+s+"/"+l;r=r.replace(/\${title}/g,p.get("Title"));r=r.replace(/\${description}/g,p.get("Description"));r=r.replace(/\${link}/g,g);o=p.get("Categories");for(var n=0;n<o.length;n++){m+=o[n].Name;if(n<o.length-1){m+=", "}}r=r.replace(/\${categories}/g,m);f=p.get("Thumbnail");h=f.File.split("/");h=h[0]+"/"+h[1]+"/";if(f.Data!==null&&f.Data!==undefined){k=true;h+=f.Data.sizes.medium.file;if(this.isFeatured){u=parseInt(f.Data.sizes.medium.width,0)+6;t=parseInt(f.Data.sizes.medium.height,0)+6}else{u=parseInt(f.Data.sizes.thumbnail.width,0)+6;t=parseInt(f.Data.sizes.thumbnail.height,0)+6}r=r.replace(/\${image}/g,c+h);r=r.replace(/\${imagewidth}/g,u);r=r.replace(/\${imageheight}/g,t)}if(v&&v.github!==undefined){r=r.replace(/\${github}/g,v.github)}this.domElement.html(r);if(v.github!==undefined){this.domElement.find(".github-ribbon").css("display","block")}else{this.domElement.find(".github-ribbon").remove()}if(!k){this.domElement.find(".photo").remove()}e()};this.showDescription=function(){this.domElement.find("p").css("display","block")};this.hideDescription=function(){this.domElement.find("p").css("display","none")};var e=function(){b.domElement.find("a").bind("click",d)};var d=function(i){var h,k,f,g,j,l;i.preventDefault();h=b.getModel();k=h.get("PublishDate");f=h.get("Slug");k=new Date(k.replace(/-/g,"/"));j=(k.getMonth()+1);j=j.toString().length===1?"0"+j:j;g=k.getFullYear()+"/"+j+"/"+f;l=$(this).attr("title")+" - 72Lions - Thodoris Tsiridis - Web developer";Router.push(null,l,"/"+g);window.scrollTo(0,0)}};seventytwolions.View.ThumbnailItem.prototype=new seventytwolions.View.Base();seventytwolions.View.PostDetails=function(){this.domElement=$(".post-details");this.currentId=null;var l=this;var b=null;var j=this.domElement.find(".content");var e=this.domElement.find("aside");var q=j.find("h1.title");var n=j.find(".categories");var i=j.find(".text");var k=j.find("time");var m=j.find(".github-link");var o=j.find(".download-link");var d=j.find(".demo-link");
var f=this.domElement.find(".comments");var h=this.domElement.find(".back");var p=10;var c=0;this.initialize=function(){};this.draw=function(){};this.postDraw=function(){h.bind("click",g)};this.render=function(){var r,v,s,t,u;r=v="";b=this.getModel().get("PostDetails"+this.currentId);i.html(b.Content);categories=b.Categories;for(var w=0;w<categories.length;w++){v+=categories[w].Name;if(w<categories.length-1){v+=", "}}if(v!==""){n.html("Categories: "+v);n.fadeIn(0)}else{n.fadeOut(0)}if(typeof(b.Meta.github)!=="undefined"){m.attr("href",b.Meta.github);m.addClass("visible")}else{m.removeClass("visible")}if(typeof(b.Meta.download)!=="undefined"){o.attr("href",b.Meta.download);o.addClass("visible")}else{o.removeClass("visible")}if(typeof(b.Meta.demo)!=="undefined"){d.attr("href",b.Meta.demo);d.addClass("visible")}else{d.removeClass("visible")}s=new Date(b.PublishDate.replace(/-/g,"/"));k.html(seventytwolions.Model.Locale.getDayName(s.getDay())+", "+seventytwolions.Model.Locale.getMonthName(s.getMonth())+" "+s.getDate()+" "+s.getFullYear());q.html(b.Title);e.html(r);t=b.Slug;month=(s.getMonth()+1).toString();month=month.length===1?"0"+month:month;u="/"+s.getFullYear()+"/"+month+"/"+t;c=p;if(b.Meta.dsq_thread_id){a(b.Meta.dsq_thread_id,u)}else{f.css("display","none")}document.title=b.Title+" - "+seventytwolions.Model.Locale.getPageTitle()};this.show=function(){var r=this;this.domElement.addClass("active");setTimeout(function(){r.domElement.css("opacity",1)},10)};this.hide=function(){this.domElement.removeClass("active").css("opacity",0)};var g=function(r){r.preventDefault();Router.goBack(1)};var a=function(s,r){if(window.isDisqusLoaded){f.css("display","block");DISQUS.reset({reload:true,config:function(){this.page.identifier=s;this.page.url="http://72lions.com"+r}})}else{if(c>=0){setTimeout(function(){a(s,r)},1000)}c--}}};seventytwolions.View.PostDetails.prototype=new seventytwolions.View.Base();seventytwolions.View.Footer=function(){var a=8;var e=2;var k=undefined;var i=this;this.domElement=$("footer");this.clickedItem=undefined;var j="<p>${text}</p>";var g='<a href="${link}" title="${title}" target="_blank"><img src="${src}" alt="${title}" /></a>';var d=undefined;var h=undefined;this.initialize=function(){k=this.domElement.find(".menu a");d=this.domElement.find(".latest-tweets article");h=this.domElement.find(".flickr-photos nav")};this.draw=function(){};this.postDraw=function(){b()};this.show=function(){var l=this;this.domElement.addClass("active");setTimeout(function(){l.domElement.css("opacity",1)},10)};this.hide=function(){this.domElement.removeClass("active").css("opacity",0)};this.showTweets=function(){var p,m,n,l,o;n="";p=this.getModel().get("tweets");l=p.length;for(o=0;o<l;o++){m=j;m=m.replace(/\${text}/g,c(p[o].text));n+=m}d.append(n)};this.showFlickrPhotos=function(){var o,n,l,m;o=tweets=this.getModel().get("flickr");m="";if(o.length<a){a=o.length}for(n=0;n<a;n++){l=g;l=l.replace(/\${link}/g,o[n].link);l=l.replace(/\${title}/g,o[n].title);l=l.replace(/\${src}/g,o[n].media.m);m+=l}h.append(m)};var c=function(l){l=l.replace(/http([s]?):\/\/([^\ \)$]*)/g,"<a rel='nofollow' target='_blank' href='http$1://$2'>http$1://$2</a>");l=l.replace(/(^|\s)@(\w+)/g,"$1@<a href='http://www.twitter.com/$2' target='_blank'>$2</a>");l=l.replace(/(^|\s)#(\w+)/g,"$1#<a href='http://twitter.com/search/%23$2'target='_blank'>$2</a>");return l};var b=function(){k.bind("click",f)};var f=function(n){var l,m;n.preventDefault();l=i.clickedItem=$(this);m=200;$("body,html").stop().animate({scrollTop:0},m,"easeOutQuint");setTimeout(function(){i.dispatchEvent({type:"menuClicked",path:i.clickedItem.attr("href"),title:i.clickedItem.attr("title")})},m+100);l=null}};seventytwolions.View.Footer.prototype=new seventytwolions.View.Base();seventytwolions.ControllerManager.initializeController({type:"Main",id:"main",model:seventytwolions.Lookup.getModel({})});