var Router=function(l){var d=true;var q={push:[],pop:[]};var r={};var t=null;var m=null;var j="";var g=true;var s="";var e=500;this.push=function(w,y,v){if(g){history.pushState(w,y,s+v)}else{location.href=s+"#"+v}t=getState();k("push");if(g){b(t.path)}else{b(t.hash)}};this.replace=function(w,y,v){if(g){history.replaceState(w,y,s+v)}t=getState();k("push");if(g){b(t.path)}else{b(t.hash)}};this.registerForEvent=function(w,z){var y=false;for(var v=q[w].length-1;v>=0;v--){if(q[w][v]===z){y=true;break}}if(!y){q[w].push(z)}y=null};this.registerForPathChange=function(A,B,y){y=y||0;var z=false;var v=r[A];if(v!==undefined){for(var w=v.length-1;w>=0;w--){if(v[w].callback===B){z=true;break}}}else{r[A]=[]}if(!z){r[A].push({callback:B,priority:y});u(A)}v=null;z=null};this.goBack=function(v){history.go(0-(v===null||v===undefined?1:v))};this.goForward=function(v){history.go(v===null||v===undefined?1:v)};this.getState=function(){return i()};this.setBasePath=function(v){s=v};var c=function(v){t=getState();if(d){d=false}k("pop");if(g){b(t.path)}else{b(t.hash)}};var i=function(){var v=h(location.href);v.isRefresh=d;return v};var k=function(y){var v=q[y];for(var w=v.length-1;w>=0;w--){v[w](t)}v=null};var b=function(y){var v=r[(y)];if(v!==undefined){for(var w=v.length-1;w>=0;w--){v[w].callback(t)}}v=null};var u=function(w){var v=r[w];v.sort(f);v=null};var n=function(){var v=getState().hash;if(j!==v){j=v;c(null);return}};var h=function(w){w=unescape(w);var z=w.replace(/^(http(s)?:\/\/)?[^\/]+\/?/i,"");var B={protocol:w.match(/^(http(s)?):\/\//i),domain:w.match(/^(http(s)?:\/\/)?([^\/:]+)/i),query:w.match(/\?([\w\+\-\=&]+)/),port:w.match(/\w:(\d{1,5})/),hash:w.match(/#([\w\-\/]+)/),path:z.match(/^\/?([\w\-\/\.]+)/)};var v={protocol:B.protocol?B.protocol[1]:null,domain:B.domain?B.domain[3]:null,query:B.query?B.query[1]:null,port:B.port?B.port[1]:null,hash:B.hash?B.hash[1]:null,path:B.path?B.path[1]:null,url:w};if(v.path){v.pathSegments=v.path.replace(/^\/|\/$/g,"").split("/")}if(v.hash){v.hashSegments=v.hash.replace(/^\/|\/$/g,"").split("/")}if(v.query){v.params={};var y=/([\w\+\-]+)\=([\w\+\-]+)/g;var A=y.exec(v.query);while(A){v.params[A[1]]=A[2];A=y.exec(v.query)}}return v};var p=function(){return !!(window.history&&history.pushState)};var a=function(){return"onhashchange" in window};var f=function(z,w){var v=parseInt(z.priority,0);var A=parseInt(w.priority,0);return((v<A)?-1:((v>A)?1:0))};var o=function(){if(p()){window.onpopstate=c}else{g=false;if(a()){window.onhashchange=c}else{m=setInterval(function(){n()},e)}}};o();return this}(window);var EventTarget=function(){var a={};this.addEventListener=function(c,d,b){if(a[c]===undefined){a[c]=[]}if(a[c].indexOf(d)===-1){a[c].push(d)}};this.dispatchEvent=function(b){for(var c in a[b.type]){a[b.type][c](b)}};this.removeEventListener=function(c,d){var b=a[c].indexOf(d);if(b!==-1){a[c].splice(b,1)}}};var STL={};STL.Controller=STL.Controller||{};STL.View=STL.View||{};STL.Model=STL.Model||{};STL.Model.Locale=function(c){var a=["January","February","March","April","May","June","July","August","September","October","November","December"];var d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var b="72Lions - The playground of developer Thodoris Tsiridis";this.getMonthName=function(e){return a[e]};this.getDayName=function(e){return d[e]};this.getPageTitle=function(){return b};return this}(window);STL.ControllerManager=(function(){return{initializeController:function(d,f,c){var b,e,a;a=d.view||STL.Lookup.getView({type:d.type,id:d.id});e=d.model||STL.Lookup.getModel({type:d.type,id:d.id});b=STL.Lookup.getController({type:d.type,id:d.id});a.setController(b);b.setView(a);a.initialize(c);a.draw();a.postDraw();b.setModel(e);b.postInitialize(f);return b}}})();STL.Lookup=(function(){var b={};var c={};var a={};return{getController:function(d){var g,k,e,j;var h=-1;g=d.type||"Base";k=d.id||("_id_"+Math.floor(Math.random()*10000).toString());if(!a[g]||!$.isArray(a[g])){a[g]=[]}for(var f=a[g].length-1;
f>=0;f--){if(a[g][f].id==k){h=f;break}}if(h===-1){if(STL.Controller[g]!==undefined){j={id:k,classType:new STL.Controller[g]()}}else{j={id:k,classType:new STL.Controller.Base()}}a[g].push(j);j.classType.initialize({type:d.type,id:d.id});return j.classType}else{return a[g][h].classType}},getView:function(e){var h=-1,d,j,g;g=e.type||"Base";j=e.id||("_id_"+Math.floor(Math.random()*10000).toString());if(!c[g]||!$.isArray(c[g])){c[g]=[]}for(var f=c[g].length-1;f>=0;f--){if(c[g][f].id==j){h=f}}if(h===-1){h=null;if(STL.View[g]!==undefined){d={id:j,classType:new STL.View[g]()}}else{d={id:j,classType:new STL.View.Base()}}c[g].push(d);d.classType.preInitialize(e);return d.classType}else{return c[g][h].classType}},getModel:function(d){var h=-1,j,e,g;g=d.data||{};e=d.type||"Base";id=d.id||("_id_"+Math.floor(Math.random()*10000).toString());if(!b[e]||!$.isArray(b[e])){b[e]=[]}for(var f=b[e].length-1;f>=0;f--){if(b[e][f].id==id){h=f}}if(h===-1){h=null;if(STL.Model[e]!==undefined){j={id:id,classType:new STL.Model[e]()}}else{j={id:id,classType:new STL.Model.Base()}}b[e].push(j);j.classType.setName(e);j.classType.setId(id);j.classType.setData(g);return j.classType}else{return b[e][h].classType}}}})();STL.Console=(function(){return{debug:true,log:function(){if(STL.Console.debug){}}}})();STL.View.Base=function(){EventTarget.call(this);this.name="";this.id="";this.title="";this._controller=undefined;this._model=undefined;this.domElement=null;this.show=function(){};this.hide=function(){};this.setName=function(a){this.name=a};this.setId=function(a){this.id=a};this.getModel=function(){if(this._controller){return this._controller.getModel()}return undefined};this.setController=function(a){this._controller=a};this.getController=function(){return this._controller};this.getDOMElement=function(){return this.domElement};this.preInitialize=function(a){this.setName(a.type);this.setId(a.id)};this.initialize=function(){};this.draw=function(){};this.postDraw=function(){}};STL.Model.Base=function(){var a={};this.name="";this.id="";this.setData=function(b){this.data=b};this.getData=function(){return this.data};this.setName=function(b){this.name=b};this.setId=function(b){this.id=b};this.set=function(b,c){this.data[b]=c};this.get=function(b){return this.data[b]}};STL.Controller.Base=function(){EventTarget.call(this);this._view=undefined;this._model=undefined;this.id="";this.name="";this.initialize=function(a){this.id=a.id||id;this.name=a.type||""};this.postInitialize=function(a){};this.setView=function(a){this._view=a};this.getView=function(){return this._view};this.getModel=function(){return this._model};this.setModel=function(a){this._model=a}};STL.Controller.Main=function(){var j=this;var c=null;var g=null;var k=null;var b=Router.getState();var d=("state" in window.history);var a=location.href;this.postInitialize=function(){c=STL.ControllerManager.initializeController({type:"Navigation",id:"navigation",model:STL.Lookup.getModel({})});g=STL.ControllerManager.initializeController({type:"SectionsManager",id:"sectionsmanager",model:STL.Lookup.getModel({})});g.addEventListener("onSectionLoaded",h);g.addEventListener("onChangeSectionDispatched",f);k=STL.ControllerManager.initializeController({type:"Footer",id:"Footer",model:STL.Lookup.getModel({type:"Footer",id:"footter"})});e(b);Router.registerForEvent("pop",e);Router.registerForEvent("push",e)};var e=function(n){var l,m;l=!d&&location.href==a;d=true;l=null;b=null;m="";if(n.pathSegments===undefined){c.getView().selectNavigationItem("blog");i()}else{if(n.pathSegments.length){c.getView().selectNavigationItem(n.pathSegments[n.pathSegments.length-1]);i(n)}}m=null};var i=function(l){g.showSectionWithName(l)};var h=function(){k.show()};var f=function(){k.hide()}};STL.Controller.Main.prototype=new STL.Controller.Base();STL.Controller.Navigation=function(){var b=this;this.postInitialize=function(){b.getView().addEventListener("menuClicked",a)};var a=function(c){Router.push(null,c.title+" - "+STL.Model.Locale.getPageTitle(),c.path)
}};STL.Controller.Navigation.prototype=new STL.Controller.Base();STL.Controller.SectionsManager=function(){var h=this;var b=Router.getState();var d;var l;var m;var i;var f;var j;var k;var e=4;var a="-";this.postInitialize=function(){d=STL.ControllerManager.initializeController({type:"Portfolio",id:"portfolio",model:STL.Lookup.getModel({type:"Posts",id:"portfolioModel"})});d.addEventListener("onSectionLoaded",g);d.addEventListener("onDataStartedLoading",c);l=STL.ControllerManager.initializeController({type:"Grid",id:"experiments",view:STL.Lookup.getView({type:"Grid",id:"experiments"}),model:STL.Lookup.getModel({type:"Posts",id:"experimentsModel"})},{categoryId:4,modelName:"Experiments"},{domElement:$(".experiments"),title:"Experiments"});l.addEventListener("onSectionLoaded",g);l.addEventListener("onDataStartedLoading",c);i=STL.ControllerManager.initializeController({type:"Grid",id:"blog",view:STL.Lookup.getView({type:"Grid",id:"blog"}),model:STL.Lookup.getModel({type:"Posts",id:"blogModel"})},{categoryId:3,modelName:"Blog"},{domElement:$(".blog"),title:"Blog"});i.addEventListener("onSectionLoaded",g);i.addEventListener("onDataStartedLoading",c);k=[{name:"portfolio",object:d},{name:"experiments",object:l},{name:"blog",object:i}];j=STL.ControllerManager.initializeController({type:"PostDetails",id:"postDetails",model:STL.Lookup.getModel({type:"Posts",id:"postDetailsModel"})});j.addEventListener("onSectionLoaded",g);j.addEventListener("onDataStartedLoading",c);m=STL.ControllerManager.initializeController({type:"Tags",id:"tag",view:STL.Lookup.getView({type:"Tags",id:"tag"}),model:STL.Lookup.getModel({type:"Posts",id:"tagsModel"})});m.addEventListener("onSectionLoaded",g);m.addEventListener("onDataStartedLoading",c)};this.showSectionWithName=function(p){var n,o,q;n=k.length;if(p&&p.pathSegments[0]=="category"){_gaq.push(["_trackPageview","/"+p.path]);q=p.pathSegments[1];if(a===q){return}a=q;for(o=0;o<n;o++){if(k[o].name===q){this.dispatchEvent({type:"onChangeSectionDispatched"});k[o].object.show()}else{k[o].object.hide()}}j.hide();m.hide()}else{if(p){_gaq.push(["_trackPageview","/"+p.path]);if(p.pathSegments[0]==="tag"){q=p.pathSegments[p.pathSegments.length-2];tagId=p.pathSegments[p.pathSegments.length-1];if(a===q){return}a=q;for(o=0;o<n;o++){k[o].object.hide()}this.dispatchEvent({type:"onChangeSectionDispatched"});j.hide();m.loadData(tagId)}else{q=p.pathSegments[p.pathSegments.length-1];if(a===q){return}a=q;for(o=0;o<n;o++){k[o].object.hide()}this.dispatchEvent({type:"onChangeSectionDispatched"});j.load(q)}}else{_gaq.push(["_trackPageview","/"]);q="blog";if(a===q){return}a=q;j.hide();for(o=0;o<n;o++){if(k[o].name!=="blog"){k[o].object.hide()}}this.dispatchEvent({type:"onChangeSectionDispatched"});i.show()}}};var g=function(n){h.dispatchEvent({type:"onSectionLoaded"});h.getView().hidePreloader()};var c=function(n){h.getView().showPreloader()}};STL.Controller.SectionsManager.prototype=new STL.Controller.Base();STL.Controller.Portfolio=function(){var b=this;var c=[];this.postInitialize=function(){};this.show=function(){this.loadData()};this.hide=function(){this.getView().hide()};this.loadData=function(){if(typeof(this.getModel().get("Portfolio"))==="undefined"){this.dispatchEvent({type:"onDataStartedLoading"});this.getModel().getPosts(7,0,80,a,this)}else{a.call(this,this.getModel().get("Portfolio"))}};var a=function(d){var e;if(typeof(this.getModel().get("Portfolio"))==="undefined"){this.getModel().set("Portfolio",d);for(e=0;e<d.length;e++){c.push(STL.ControllerManager.initializeController({type:"ThumbnailItem",id:"ThumbnailItem"+d[e].Id,model:STL.Lookup.getModel({data:d[e]})}));c[e].getView().render();this.getView().addPortfolioItem(c[e].getView().domElement)}this.getView().render()}this.getView().show();this.dispatchEvent({type:"onSectionLoaded"})}};STL.Controller.Portfolio.prototype=new STL.Controller.Base();STL.Controller.Grid=function(){var c=this;var e=[];var d=3;var b="Blog";this.postInitialize=function(f){if(f){b=f.modelName||b;
d=f.categoryId||d}};this.show=function(){this.loadData()};this.hide=function(){this.getView().hide()};this.loadData=function(){if(typeof(this.getModel().get(b))==="undefined"){this.dispatchEvent({type:"onDataStartedLoading"});this.getModel().getPosts(d,0,80,a,this)}else{a.call(this,this.getModel().get(b))}};var a=function(f){var g;if(typeof(this.getModel().get(b))==="undefined"){this.getModel().set(b,f);for(g=0;g<f.length;g++){e.push(STL.ControllerManager.initializeController({type:"ThumbnailItem",id:b+"ThumbnailItem"+f[g].Id,model:STL.Lookup.getModel({data:f[g]})}));e[g].getView().render();e[g].getView().showDescription();this.getView().addPortfolioItem(e[g].getView().domElement)}this.getView().render()}this.dispatchEvent({type:"onSectionLoaded"});this.getView().show()}};STL.Controller.Grid.prototype=new STL.Controller.Base();STL.Controller.About=function(){var a=this;this.postInitialize=function(){};this.show=function(){this.getView().show()};this.hide=function(){this.getView().hide()}};STL.Controller.About.prototype=new STL.Controller.Base();STL.Controller.Contact=function(){var a=this;this.postInitialize=function(){};this.show=function(){this.getView().show()};this.hide=function(){this.getView().hide()}};STL.Controller.Contact.prototype=new STL.Controller.Base();STL.Controller.ThumbnailItem=function(){var a=this;this.postInitialize=function(){}};STL.Controller.ThumbnailItem.prototype=new STL.Controller.Base();STL.Controller.PostDetails=function(){var a=this;this.currentId=null;this.postInitialize=function(){};this.load=function(c){if(this.currentId!==c){this.currentId=c;if(typeof(this.getModel().get("PostDetails"+this.currentId))!=="undefined"){b.call(this,this.getModel().get("PostDetails"+this.currentId))}else{this.dispatchEvent({type:"onDataStartedLoading"});this.getModel().getDetails(c,b,this)}}};this.show=function(){this.getView().show()};this.hide=function(){this.getView().hide();this.currentId=null};var b=function(c){this.getModel().set("PostDetails"+this.currentId,c);this.getView().currentId=this.currentId;this.getView().render();this.dispatchEvent({type:"onSectionLoaded"});this.show()}};STL.Controller.PostDetails.prototype=new STL.Controller.Base();STL.Controller.Footer=function(){var b=this;this.postInitialize=function(){b.getView().addEventListener("menuClicked",a);this.loadTweets();this.loadFlickrPhotos()};this.show=function(){this.getView().show()};this.hide=function(){this.getView().hide()};this.loadTweets=function(){this.getModel().getTweets(d,this)};this.loadFlickrPhotos=function(){this.getModel().getFlickr(c,this)};var d=function(e){this.getView().showTweets()};var c=function(e){this.getView().showFlickrPhotos()};var a=function(e){Router.push(null,e.title+" - "+STL.Model.Locale.getPageTitle(),e.path)}};STL.Controller.Footer.prototype=new STL.Controller.Base();STL.Controller.Tags=function(){var c=this;var d=[];var b="Tag";this.tagId=0;this.postInitialize=function(e){if(e){b=e.modelName||b}};this.show=function(){this.loadData()};this.hide=function(){this.getView().hide()};this.loadData=function(e){this.tagId=e;if(typeof(this.getModel().get(b+e))==="undefined"){this.dispatchEvent({type:"onDataStartedLoading"});this.getModel().getTags(e,0,80,a,this)}else{a.call(this,this.getModel().get(b+e))}};var a=function(e){var f;for(f=0;f<e.length;f++){d.push(STL.ControllerManager.initializeController({type:"ThumbnailItem",id:b+"ThumbnailItem"+e[f].Id,model:STL.Lookup.getModel({data:e[f]})}));d[f].getView().setAsFeatured(false);d[f].getView().render();d[f].getView().showDescription();this.getView().addPortfolioItem(d[f].getView().domElement)}this.getView().render();this.dispatchEvent({type:"onSectionLoaded"});this.getView().show()}};STL.Controller.Tags.prototype=new STL.Controller.Base();STL.Model.Categories=function(){var c;var d={};var e="/api/get.php";var b=0;var a=10;this.get=function(k,i,j,f){var g,h;h=this;k=k||b;i=i||a;g="categories&s="+k+"&t="+i;if(c!==undefined){c.abort()}c=$.ajax({url:e,dataType:"json",data:g,success:function(l){h.set("posts",l.Results);
if(typeof(j)!=="undefined"&&typeof(j)!=="null"){j.apply(f,[h.get("posts")]);c=undefined}}})}};STL.Model.Categories.prototype=new STL.Model.Base();STL.Model.Posts=function(){var f="/api/get.php";var h="/api/get.php";var b="/api/get.php";var e=0;var d=10;var c;var a;var g={};this.getPosts=function(k,o,m,n,i){var j,l;l=this;o=o||e;m=m||d;j="posts&s="+o+"&t="+m;if(k!==null){j+="&cid="+k}if(c!==undefined){c.abort()}c=$.ajax({url:f,dataType:"json",data:j,success:function(p){l.set("posts",p.Results);if(typeof(n)!=="undefined"&&typeof(n)!=="null"){n.apply(i,[l.get("posts")]);c=undefined}}})};this.getTags=function(k,o,m,n,i){var j,l;l=this;o=o||e;m=m||d;j="tag&s="+o+"&t="+m;if(k!==null){j+="&tid="+k}if(c!==undefined){c.abort()}c=$.ajax({url:h,dataType:"json",data:j,success:function(p){l.set("Tag"+k,p.Results);if(typeof(n)!=="undefined"&&typeof(n)!=="null"){n.apply(i,[l.get("Tag"+k)]);c=undefined}}})};this.getDetails=function(j,l,i){var k;k=this;if(a!==undefined){a.abort()}a=$.ajax({url:b,dataType:"json",data:"postdetails&id="+j,success:function(m){k.set("post",m.Results);if(typeof(l)!=="undefined"&&typeof(l)!=="null"){l.apply(i,[k.get("post")]);c=undefined}}})}};STL.Model.Posts.prototype=new STL.Model.Base();STL.Model.Footer=function(){var f="/api/get.php";var a=2;var b="/api/get.php?flickr";var d;var c;var e={};this.getTweets=function(j,g){var h,i;i=this;h="tweets&t="+a;if(d!==undefined){d.abort()}d=$.ajax({url:f,dataType:"json",data:h,success:function(k){i.set("tweets",k.results);if(typeof(j)!=="undefined"&&typeof(j)!=="null"){j.apply(g,[i.get("tweets")]);d=undefined}}})};this.getFlickr=function(j,g){var h,i;i=this;if(c!==undefined){c.abort()}c=$.ajax({url:b,dataType:"json",success:function(k){i.set("flickr",k.items);if(typeof(j)!=="undefined"&&typeof(j)!=="null"){j.apply(g,[i.get("flickr")]);c=undefined}},error:function(){}})}};STL.Model.Footer.prototype=new STL.Model.Base();STL.View.Main=function(){this.domElement=$("#wrapper");this.initialize=function(){};this.draw=function(){};this.postDraw=function(){}};STL.View.Main.prototype=new STL.View.Base();STL.View.Navigation=function(){var d;var b=this;this.domElement=$(".navigation");this.clickedItem=undefined;this.initialize=function(){d=this.domElement.find("a")};this.draw=function(){};this.postDraw=function(){c()};this.selectNavigationItem=function(e){e=e===""?"home":e;this.domElement.find(".nav-"+e).parent().addClass("active").siblings().removeClass("active")};var c=function(){d.bind("click",a)};var a=function(g){var f;g.preventDefault();f=b.clickedItem=$(this);if(f.hasClass("logo")){delay=200;$("body,html").stop().animate({scrollTop:0},delay,"easeOutQuint")}else{delay=0}setTimeout(function(){b.dispatchEvent({type:"menuClicked",path:b.clickedItem.attr("href"),title:b.clickedItem.attr("title")})},delay+100);f=null}};STL.View.Navigation.prototype=new STL.View.Base();STL.View.SectionsManager=function(){var b=this;this.domElement=$("#sections-wrapper");var a=this.domElement.find(".preloader");this.initialize=function(){};this.draw=function(){};this.postDraw=function(){};this.showPreloader=function(){a.addClass("active");setTimeout(function(){a.css("opacity",1)},10)};this.hidePreloader=function(){a.removeClass("active").css("opacity",0)}};STL.View.SectionsManager.prototype=new STL.View.Base();STL.View.Portfolio=function(){this.domElement=$(".portfolio");this.title="Blog";var b=this;var c=this.domElement.find(".centered");var a=$("<div>");this.initialize=function(){};this.draw=function(){};this.postDraw=function(){};this.show=function(){var d=this;this.domElement.addClass("active");setTimeout(function(){d.domElement.css("opacity",1)},10);document.title=this.title+" - "+STL.Model.Locale.getPageTitle()};this.hide=function(){this.domElement.removeClass("active").css("opacity",0)};this.addPortfolioItem=function(d){a.append(d)};this.render=function(){c.html(a)}};STL.View.Portfolio.prototype=new STL.View.Base();STL.View.Grid=function(){this.domElement=$(".blog");this.title="Blog";var e=this;var h;
var a=true;var c=2;var g=218;var d=20;var b=$("<div>");this.initialize=function(i){if(i){this.domElement=i.domElement||this.domElement;this.title=i.title||this.title}h=this.domElement.find(".centered")};this.draw=function(){};this.postDraw=function(){$(window).bind("resize",f)};this.show=function(){var i=this;document.title=this.title+" - "+STL.Model.Locale.getPageTitle();this.domElement.addClass("active");setTimeout(function(){i.domElement.css("opacity",1)},10);a=true;this.positionItems()};this.hide=function(){this.domElement.removeClass("active").css("opacity",0)};this.addPortfolioItem=function(i){b.append(i)};this.render=function(){h.append(b)};this.positionItems=function(){var j=h.find("article");var t=h.find("article.featured");var i=h.height();var k=h.width();var o=0;var p=0;var r=[];var q=0;var n=0;var l=Math.max(c,parseInt(k/(g+d),0));var s=0;if(a){a=false}else{h.addClass("animated")}for(x=0;x<l;x++){r[x]=0}j.each(function(w,y){var D,C,B,A,z=0;var v=0;var u=0;A=(Math.floor($(y).outerWidth()/g));B=0;if(A>1){for(D=0;D<l-(A-1);D++){B=(r[D]<r[B])?D:B}C=B;for(D=0;D<A;D++){z=Math.max(z,r[C+D])}for(D=0;D<A;D++){r[C+D]=parseInt($(y).outerHeight(),0)+d+z}v=C*(g+d)+p;u=z+o;q=(z>q)?r[C+A-1]:q}else{for(D=0;D<l;D++){B=(r[D]<r[B])?D:B}v=B*(g+d)+p;u=r[B]+o;r[B]+=$(y).outerHeight()+d;q=(r[B]>q)?r[B]:q}if(!Modernizr.mq("all and (max-width: 600px)")){$(this).css({left:v+"px",top:u+d+"px"})}itemBottom=parseInt(u+d,0)+$(this).innerHeight();if(s<itemBottom){s=itemBottom}n=(n<B)?B:n});if(!Modernizr.mq("all and (max-width: 600px)")){if(s>0){h.attr("style","height: "+s+"px")}}else{h.css("height","auto !important")}var m=parseInt(($("body").innerWidth()-(g+d)*(n+1))/2,0)-0};var f=function(){e.positionItems()}};STL.View.Grid.prototype=new STL.View.Base();STL.View.About=function(){var a=this;this.domElement=$(".about");this.initialize=function(){};this.draw=function(){};this.postDraw=function(){};this.show=function(){this.domElement.slideDown()};this.hide=function(){this.domElement.slideUp()}};STL.View.About.prototype=new STL.View.Base();STL.View.Contact=function(){var a=this;this.domElement=$(".contact");this.initialize=function(){};this.draw=function(){};this.postDraw=function(){};this.show=function(){var b=this;this.domElement.addClass("active");setTimeout(function(){b.domElement.css("opacity",1)},10)};this.hide=function(){this.domElement.removeClass("active").css("opacity",0)}};STL.View.Contact.prototype=new STL.View.Base();STL.View.ThumbnailItem=function(){this.isFeatured=false;this.explicityNotFeatured=false;this.domElement=$('<article class="portfolio-item clearfix"></article>');var b=this;var c="http://72lions.com/wp-content/uploads/";var a='<div class="photo"><a href="${github}" target="_blank" class="github-ribbon"><img src="/assets/images/github-ribbon.png" border="0" alt="Fork me on github" /></a><a href="${fwa}" target="_blank" class="fwasotd-ribbon"><img src="/assets/images/fwa_sotd.png" border="0" alt="FWA Site of the day" /></a><a href="${link}" title="${title}"><img class="thumbnail-image" src="${image}" alt="${title}" width="${imagewidth}" height="${imageheight}"  /></a></div><div class="description"><hgroup><a href="${link}" title="${title}" class="title"><h1>${title}</h1></a></hgroup><time>${publishdate}</time><aside>Categories: ${categories}</aside><p>${description}</p><a href="${link}" title="${title}" class="readmore">Read more</a></div>';this.initialize=function(){};this.draw=function(){};this.postDraw=function(){};this.setAsFeatured=function(f){this.isFeatured=f;if(f){this.domElement.addClass("featured")}else{this.domElement.removeClass("featured");this.explicityNotFeatured=true}};this.render=function(){var j,s,p,v,r,q,g,l,o,m,f,u,t,k,h;m="";k=false;p=this.getModel();r=a;v=p.get("Meta");if(v&&v.showcase!==undefined&&!this.explicityNotFeatured){this.setAsFeatured(true)}pDate=new Date(p.get("PublishDate").replace(/-/g,"/"));r=r.replace(/\${publishdate}/g,STL.Model.Locale.getDayName(pDate.getDay())+", "+STL.Model.Locale.getMonthName(pDate.getMonth())+" "+pDate.getDate()+" "+pDate.getFullYear());
l=p.get("Slug");s=(pDate.getMonth()+1);s=s.toString().length===1?"0"+s:s;g="/"+pDate.getFullYear()+"/"+s+"/"+l;r=r.replace(/\${title}/g,p.get("Title"));r=r.replace(/\${description}/g,p.get("Description"));r=r.replace(/\${link}/g,g);o=p.get("Categories");for(var n=0;n<o.length;n++){m+=o[n].Name;if(n<o.length-1){m+=", "}}r=r.replace(/\${categories}/g,m);f=p.get("Thumbnail");h=f.File.split("/");h=h[0]+"/"+h[1]+"/";if(f.Data!==null&&f.Data!==undefined){k=true;h+=f.Data.sizes.medium.file;if(this.isFeatured){u=parseInt(f.Data.sizes.medium.width,0)+6;t=parseInt(f.Data.sizes.medium.height,0)+6}else{u=parseInt(f.Data.sizes.thumbnail.width,0)+6;t=parseInt(f.Data.sizes.thumbnail.height,0)+6}r=r.replace(/\${image}/g,c+h);r=r.replace(/\${imagewidth}/g,u);r=r.replace(/\${imageheight}/g,t)}if(v&&v.github!==undefined){r=r.replace(/\${github}/g,v.github)}if(v&&v.fwa_sotd!==undefined){r=r.replace(/\${fwa}/g,v.fwa_sotd)}this.domElement.html(r);if(v.github!==undefined){this.domElement.find(".github-ribbon").css("display","block")}else{this.domElement.find(".github-ribbon").remove()}if(v.fwa_sotd!==undefined){this.domElement.find(".fwasotd-ribbon").css("display","block")}else{this.domElement.find(".fwasotd-ribbon").remove()}if(!k){this.domElement.find(".photo").remove()}e()};this.showDescription=function(){this.domElement.find("p").css("display","block")};this.hideDescription=function(){this.domElement.find("p").css("display","none")};var e=function(){b.domElement.find("a").bind("click",d)};var d=function(i){var h,k,f,g,j,l;i.preventDefault();h=b.getModel();k=h.get("PublishDate");f=h.get("Slug");k=new Date(k.replace(/-/g,"/"));j=(k.getMonth()+1);j=j.toString().length===1?"0"+j:j;g=k.getFullYear()+"/"+j+"/"+f;l=$(this).attr("title")+" - 72Lions - Thodoris Tsiridis - Web developer";Router.push(null,l,"/"+g);window.scrollTo(0,0)}};STL.View.ThumbnailItem.prototype=new STL.View.Base();STL.View.PostDetails=function(){this.domElement=$(".post-details");this.currentId=null;var t=this;var o=null;var r=this.domElement.find(".content");var k=this.domElement.find("aside");var q=r.find("h1.title");var f=r.find(".categories");var e=r.find(".text");var n=r.find("time");var i=r.find(".github-link");var d=r.find(".download-link");var s=r.find(".demo-link");var b=r.find(".website-link");var j=this.domElement.find(".comments");var h=this.domElement.find(".tags");var p='<li><a href="${taglink}">${tag}</a></li>';var g=this.domElement.find(".back");var a=10;var l=0;this.initialize=function(){};this.draw=function(){};this.postDraw=function(){g.bind("click",m)};this.render=function(){var B,w,A,E,z,D,C,v,u,y;B=w="";o=this.getModel().get("PostDetails"+this.currentId);e.html(o.Content);z=o.Categories;for(y=0;y<z.length;y++){w+=z[y].Name;if(y<z.length-1){w+=", "}}if(w!==""){f.html("Categories: "+w);f.fadeIn(0)}else{f.fadeOut(0)}E=o.Tags;A="";for(y=0;y<E.length;y++){D=p;tag="";tag=D.replace(/\${tag}/g,E[y].name);tag=tag.replace(/\${taglink}/g,"/tag/"+E[y].slug+"/"+E[y].id);A+=tag}if(A!==""){h.html(A);h.css("display","block")}else{h.css("display","none")}if(typeof(o.Meta.github)!=="undefined"){i.attr("href",o.Meta.github);i.addClass("visible")}else{i.removeClass("visible")}if(typeof(o.Meta.download)!=="undefined"){d.attr("href",o.Meta.download);d.addClass("visible")}else{d.removeClass("visible")}if(typeof(o.Meta.demo)!=="undefined"){s.attr("href",o.Meta.demo);s.addClass("visible")}else{s.removeClass("visible")}if(typeof(o.Meta.visit_link)!=="undefined"){b.attr("href",o.Meta.visit_link);b.addClass("visible")}else{b.removeClass("visible")}C=new Date(o.PublishDate.replace(/-/g,"/"));n.html(STL.Model.Locale.getDayName(C.getDay())+", "+STL.Model.Locale.getMonthName(C.getMonth())+" "+C.getDate()+" "+C.getFullYear());q.html(o.Title);k.html(B);v=o.Slug;month=(C.getMonth()+1).toString();month=month.length===1?"0"+month:month;u="/"+C.getFullYear()+"/"+month+"/"+v;l=a;if(o.Meta.dsq_thread_id){c(o.Meta.dsq_thread_id,u)}else{j.css("display","none")}document.title=o.Title+" - "+STL.Model.Locale.getPageTitle()
};this.show=function(){var u=this;this.domElement.addClass("active");setTimeout(function(){u.domElement.css("opacity",1)},10)};this.hide=function(){this.domElement.removeClass("active").css("opacity",0)};var m=function(u){u.preventDefault();Router.goBack(1)};var c=function(v,u){if(window.isDisqusLoaded){j.css("display","block");DISQUS.reset({reload:true,config:function(){this.page.identifier=v;this.page.url="http://72lions.com"+u}})}else{if(l>=0){setTimeout(function(){c(v,u)},1000)}l--}}};STL.View.PostDetails.prototype=new STL.View.Base();STL.View.Footer=function(){var a=14;var j;var h=this;this.domElement=$("footer");this.clickedItem=undefined;var i="<p>${text}</p>";var f='<a href="${link}" title="${title}" target="_blank"><img src="${src}" alt="${title}" /></a>';var d;var g;this.initialize=function(){j=this.domElement.find(".menu a");d=this.domElement.find(".latest-tweets article");g=this.domElement.find(".flickr-photos nav")};this.draw=function(){};this.postDraw=function(){b()};this.show=function(){this.domElement.addClass("active")};this.hide=function(){this.domElement.removeClass("active")};this.showTweets=function(){var o,l,m,k,n;m="";o=this.getModel().get("tweets");k=o.length;for(n=0;n<k;n++){l=i;l=l.replace(/\${text}/g,c(o[n].text));m+=l}d.append(m)};this.showFlickrPhotos=function(){var n,m,k,l;n=tweets=this.getModel().get("flickr");l="";if(n.length<a){a=n.length}for(m=0;m<a;m++){k=f;k=k.replace(/\${link}/g,n[m].link);k=k.replace(/\${title}/g,n[m].title);k=k.replace(/\${src}/g,n[m].media.m);l+=k}g.append(l)};var c=function(k){k=k.replace(/http([s]?):\/\/([^\ \)$]*)/g,"<a rel='nofollow' target='_blank' href='http$1://$2'>http$1://$2</a>");k=k.replace(/(^|\s)@(\w+)/g,"$1@<a href='http://www.twitter.com/$2' target='_blank'>$2</a>");k=k.replace(/(^|\s)#(\w+)/g,"$1#<a href='http://twitter.com/search/%23$2'target='_blank'>$2</a>");return k};var b=function(){j.bind("click",e)};var e=function(m){var k,l;m.preventDefault();k=h.clickedItem=$(this);l=200;$("body,html").stop().animate({scrollTop:0},l,"easeOutQuint");setTimeout(function(){h.dispatchEvent({type:"menuClicked",path:h.clickedItem.attr("href"),title:h.clickedItem.attr("title")})},l+100);k=null}};STL.View.Footer.prototype=new STL.View.Base();STL.View.Tags=function(){this.domElement=$(".tag");this.title="Tag";var e=this;var h;var a=true;var c=2;var g=218;var d=20;var b=$("<div>");this.initialize=function(){h=this.domElement.find(".centered")};this.draw=function(){};this.postDraw=function(){$(window).bind("resize",f)};this.show=function(){var i=this;this.domElement.addClass("active");setTimeout(function(){i.domElement.css("opacity",1)},10);a=true;this.positionItems()};this.hide=function(){this.domElement.removeClass("active").css("opacity",0)};this.addPortfolioItem=function(i){b.append(i)};this.render=function(){h.html("");h.append(b)};this.positionItems=function(){var j=h.find("article");var t=h.find("article.featured");var i=h.height();var k=h.width();var o=0;var p=0;var r=[];var q=0;var n=0;var l=Math.max(c,parseInt(k/(g+d),0));var s=0;if(a){a=false}else{h.addClass("animated")}for(x=0;x<l;x++){r[x]=0}j.each(function(w,y){var D,C,B,A,z=0;var v=0;var u=0;A=(Math.floor($(y).outerWidth()/g));B=0;if(A>1){for(D=0;D<l-(A-1);D++){B=(r[D]<r[B])?D:B}C=B;for(D=0;D<A;D++){z=Math.max(z,r[C+D])}for(D=0;D<A;D++){r[C+D]=parseInt($(y).outerHeight(),0)+d+z}v=C*(g+d)+p;u=z+o;q=(z>q)?r[C+A-1]:q}else{for(D=0;D<l;D++){B=(r[D]<r[B])?D:B}v=B*(g+d)+p;u=r[B]+o;r[B]+=$(y).outerHeight()+d;q=(r[B]>q)?r[B]:q}if(!Modernizr.mq("all and (max-width: 600px)")){$(this).css({left:v+"px",top:u+d+"px"})}itemBottom=parseInt(u+d,0)+$(this).innerHeight();if(s<itemBottom){s=itemBottom}n=(n<B)?B:n});if(!Modernizr.mq("all and (max-width: 600px)")){if(s>0){h.attr("style","height: "+s+"px")}}else{h.css("height","auto !important")}var m=parseInt(($("body").innerWidth()-(g+d)*(n+1))/2,0)-0};var f=function(){e.positionItems()}};STL.View.Tags.prototype=new STL.View.Base();STL.ControllerManager.initializeController({type:"Main",id:"main",model:STL.Lookup.getModel({})});